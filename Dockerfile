# arguments that can be overridden on the command line with build-arg
# for example --build-arg=PULSAR_VERSION=2.7.3
ARG PULSAR_REPO=apachepulsar
ARG PULSAR_IMAGE=pulsar-all
ARG PULSAR_VERSION=2.8.1

# original docker image
FROM ${PULSAR_REPO}/${PULSAR_IMAGE}:${PULSAR_VERSION}

# remove log4j
RUN rm -rf /pulsar/lib/org.apache.logging.log4j*.jar /pulsar/lib/log4j*.jar

# copy log4j 2.15.0 to /pulsar/lib
COPY lib /pulsar/lib
